(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{4675:(e,i,t)=>{Promise.resolve().then(t.bind(t,8823))},8823:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>w});var a=t(7437),s=t(2265),r=t(9381);let n={email:"",name:"",phone:"",gender:"male",city:"",age:"",consent1:!1,consent2:!1,signature:null};var l=t(4245);let o=l.Ry().shape({email:l.Z_().email("Invalid email").required("Email is required")}),d=l.Ry().shape({name:l.Z_().min(2,"Name too short").max(50,"Name too long").required("Name is required")}),c=l.Ry().shape({phone:l.Z_().matches(/^(?:\+91|91)?[789]\d{9}$/,"Invalid phone number").required("Phone number is required")}),h=l.Ry().shape({gender:l.Z_().oneOf(["male","female","not-specified"],"Please select a valid gender").required("Gender is required")}),m=l.Ry().shape({city:l.Z_().min(2,"City name too short").max(50,"City name too long").required("City is required")}),u=l.Ry().shape({age:l.Rx().min(18,"Must be at least 18").max(80,"Age not valid").required("Age is required")}),x=l.Ry().shape({}),p=[o,d,c,h,m,u];var g=t(4379),b=t.n(g);let y=function(){return(0,a.jsxs)("div",{className:"consent-box",children:[(0,a.jsx)("div",{className:"font-bold mb-3 italic text-[25px]",children:"ZOOPER: The Trampoline Park (A Unit of Cosmic Exim)"}),(0,a.jsxs)("div",{className:"text-[20px]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"Participant Agreement Waiver, Release & Assumption of Risk Form"}),"Everyone who signs on the Waiver Form must submit his/her Age Proof ID. If the participant is under the age of 18, a parent or legal guardian must sign the waiver for them and submit their Age Proof ID. Zooper: The Trampoline Park entails certain risks that simply cannot be eliminated without jeopardizing the park's overall experience and essential qualities of its activities. Risks include the negligence of other participants or yourself, injuries including rope burns, sprains, fractures, scrapes, bruises and cuts, joint dislocations, pinched fingers and serious injuries to head, back or neck which can cause paralysis or even death. Participants often fall from the equipment, sprain, or break wrist, ankles & legs and can suffer more serious injury as well. Participants often fall on each other resulting in broken bones and other serious injuries. Double bouncing, more than one person per trampoline can create a rebound effect causing serious injury. In any event, if you or your child is injured, you or your child may require medical assistance, at your own expense. Furthermore, Zooper employees have extremely difficult and high-risk jobs to perform. They seek safety but they are not infallible, they might be unaware of a participant's health issues or abilities. They may give incomplete warnings or instructions and the equipment being used might malfunction in rare cases. I have had sufficient opportunity to read this document.:"]}),(0,a.jsx)("div",{children:"i) I have read and understood and agree to be bound by its terms."}),(0,a.jsx)("div",{children:"ii) I am at least 18 years old and I have read and agree to the terms of the above agreement."}),(0,a.jsx)("div",{children:"iii) I certify that I am the parent or legal guardian of the above child and confirm that the information I entered is accurate and true."}),(0,a.jsx)("div",{className:"italic my-3 font-semibold",children:"I HEREBY WAIVE, RELEASE AND DISCHARGE COSMIC EXIM & WILL NOT ASK FOR INDEMNIFICATION MUCH LESS SUE:"}),(0,a.jsx)("div",{children:"its owners, partners, officers, employees, volunteers, representatives, and agents, and the activity holders, sponsors from any and all forms of liability for my (or my child's) death, accident, disability, personal injury, property damage, property theft, loss, or actions of any kind which may hereafter occur to me (or my child) including my traveling to and from this activity."}),(0,a.jsx)("div",{children:"I agree that in case of any accident or mishappening, I shall not post disparaging or defamatory statements about the company or its business interests and avoid social media communications that might be misconstrued in a way that could damage the company's goodwill and business reputation, even indirectly. In connection with my child's use of the Zooper: The Trampoline Park, I consent to the recording of the child's and my physical likeness and/or voice through photographic, technical, digital, electronic or other means. I hereby consent to and authorize Cosmic Exim and its agents to use such recordings, as well as the child's name and my name, for any purpose, including advertising, promoting, and publicizing Zooper: The Trampoline Park. I waive any and all claims I may have in connection with the recordings."}),(0,a.jsx)("div",{className:"italic my-3 font-semibold",children:"I HAVE READ AND UNDERSTOOD ALL THE ABOVE TERMS AND CONDITIONS."})]})]})};var f=t(5269),v=t.n(f),j=t(6463),N=t(6648);let w=function(){let e=(0,j.useRouter)(),[i,t]=(0,s.useState)(0),[l,o]=(0,s.useState)({}),[d,c]=(0,s.useState)({}),[h,m]=(0,s.useState)(!1),[u,g]=(0,s.useState)([{name:"",gender:"male",birth_year:"",birth_month:"",birth_day:""}]),[f,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1),I=(0,r.TA)({initialValues:n,validationSchema:i<=5?p[i]:x,onSubmit:async e=>{console.log(e,"here"),0===i?(c({...d,email:e.email}),(await E({email:e.email})).exists?(console.log("user already regisetred"),b().fire({icon:"error",text:"This email already registered with us"})):t(1)):1===i?(c({...d,name:e.name}),t(2)):2===i?(c({...d,phone:e.phone}),t(3)):3===i?(c({...d,gender:e.gender}),t(4)):4===i?(c({...d,city:e.city}),t(5)):5===i?(c({...d,age:e.age}),t(6)):8===i&&(k&&f?t(9):b().fire({icon:"error",text:"Fill accept both consents"}))}}),S=async()=>{if(console.log(d),null==d?void 0:d.signature){console.log({...d,children:u},"this is final form data");try{let i=await fetch("/api/submitForm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h?{...d,children:u}:d)}),t=await i.json();console.log(t),200==t.code?b().fire({title:"Success!",text:"You have successfully signed your waiver. You may directly proceed to the ticket counter. This will be valid for next 1 year.",icon:"success"}).then(i=>{i.isConfirmed&&e.push("/")}):b().fire({icon:"error",text:"Something went wrong."}).then(i=>{i.isConfirmed&&e.push("/")})}catch(i){b().fire({icon:"error",text:"Something went wrong."}).then(i=>{i.isConfirmed&&e.push("/")})}}else b().fire({icon:"error",text:"Please do your signatures"})},E=async i=>{try{let e=await fetch("/api/checkUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await e.json()}catch(i){b().fire({icon:"error",text:"Something went wrong."}).then(i=>{i.isConfirmed&&e.push("/")})}};return(0,a.jsxs)("form",{onSubmit:I.handleSubmit,children:[0===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsxs)("h2",{className:"field-box-heading",children:["What is your email address? ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[(0,a.jsx)("input",{className:"input-field",type:"text",name:"email",onChange:I.handleChange,value:I.values.email}),(0,a.jsx)("button",{className:"next-btn",type:"submit",children:(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})})]}),I.touched.email&&I.errors.email&&(0,a.jsx)("div",{className:"error",children:I.errors.email})]}),1===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsxs)("h2",{className:"field-box-heading",children:["Step 2: Enter Your Name ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[(0,a.jsx)("input",{className:"input-field",type:"text",name:"name",onChange:I.handleChange,value:I.values.name}),(0,a.jsx)("button",{className:"next-btn",type:"submit",children:(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})})]}),I.touched.name&&I.errors.name&&(0,a.jsx)("div",{className:"error",children:I.errors.name})]}),2===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsxs)("h2",{className:"field-box-heading",children:["Step 3: Enter Your Phone Number ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[(0,a.jsx)("input",{className:"input-field",type:"text",name:"phone",onChange:I.handleChange,value:I.values.phone}),(0,a.jsxs)("button",{type:"submit",className:"next-btn",children:["  ",(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})]})]}),I.touched.phone&&I.errors.phone&&(0,a.jsx)("div",{className:"error",children:I.errors.phone})]}),3===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsxs)("h2",{className:"field-box-heading",children:["Step 4: Select Your Gender ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[(0,a.jsxs)("select",{className:"input-field",name:"gender",onChange:I.handleChange,value:I.values.gender,required:!0,children:[(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"not-specified",children:"Not specified"})]}),(0,a.jsxs)("button",{className:"next-btn",type:"submit",children:[" ",(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})]})]})]}),4===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsxs)("h2",{className:"field-box-heading",children:["Step 5: Enter Your City ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[(0,a.jsx)("input",{className:"input-field",type:"text",name:"city",onChange:I.handleChange,value:I.values.city}),(0,a.jsxs)("button",{className:"next-btn",type:"submit",children:[" ",(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})]})]}),I.touched.city&&I.errors.city&&(0,a.jsx)("div",{className:"error",children:I.errors.city})]}),5===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsxs)("h2",{className:"field-box-heading",children:["Step 6: Enter Your Age ",(0,a.jsx)("span",{className:"asterik",children:"*"})]}),(0,a.jsxs)("div",{className:"field-box-pair",children:[" ",(0,a.jsxs)("select",{className:"input-field",name:"age",onChange:I.handleChange,value:I.values.age,required:!0,children:[(0,a.jsx)("option",{value:"",label:"Select your age"}),[...Array(63)].map((e,i)=>(0,a.jsx)("option",{value:i+18,children:i+18},i+18))]}),(0,a.jsx)("button",{className:"next-btn",type:"submit",children:(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})})]}),I.touched.age&&I.errors.age&&(0,a.jsx)("div",{className:"error",children:I.errors.age})]}),6===i&&(0,a.jsxs)("div",{className:"field-box",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsx)("h2",{className:"field-box-heading !text-[30px]",children:"Add a Child?"}),(0,a.jsxs)("div",{className:" flex gap-x-3 mt-5",children:[(0,a.jsx)("button",{className:"big-btns",onClick:()=>{m(!0),t(7)},children:"Yes"}),(0,a.jsx)("button",{className:"big-btns",onClick:()=>{m(!1),t(8)},children:"No"})]})]}),7===i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsx)("button",{onClick:()=>{g([...u,{name:"",gender:"male",birth_year:"",birth_month:"",birth_day:""}])},children:"Add New Child"}),(0,a.jsxs)("div",{className:"child-table",children:[(0,a.jsxs)("div",{className:"child-row header",children:[(0,a.jsx)("div",{children:"Name"}),(0,a.jsx)("div",{children:"Gender"}),(0,a.jsx)("div",{children:"Birth Date"}),(0,a.jsx)("div",{children:"Delete"})]}),u.map((e,i)=>(0,a.jsxs)("div",{className:"child-row",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:e.name,onChange:e=>{let t=[...u];t[i].name=e.target.value,g(t)}}),(0,a.jsxs)("select",{value:e.gender,onChange:e=>{let t=[...u];t[i].gender=e.target.value,g(t)},children:[(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"not-specified",children:"Not Specified"})]}),(0,a.jsxs)("div",{className:"birth-date",children:[(0,a.jsxs)("select",{value:e.birth_year,onChange:e=>{let t=[...u];t[i].birth_year=e.target.value,g(t)},children:[(0,a.jsx)("option",{value:"",label:"Year"}),[...Array(63)].map((e,i)=>(0,a.jsx)("option",{value:i+1960,children:i+1960},i))]}),(0,a.jsxs)("select",{value:e.birth_month,onChange:e=>{let t=[...u];t[i].birth_month=e.target.value,g(t)},children:[(0,a.jsx)("option",{value:"",label:"Month"}),[...Array(12)].map((e,i)=>(0,a.jsx)("option",{value:i+1,children:i+1},i))]}),(0,a.jsxs)("select",{value:e.birth_day,onChange:e=>{let t=[...u];t[i].birth_day=e.target.value,g(t)},children:[(0,a.jsx)("option",{value:"",label:"Day"}),[...Array(31)].map((e,i)=>(0,a.jsx)("option",{value:i+1,children:i+1},i))]})]}),(0,a.jsx)("button",{onClick:()=>{g(u.filter((e,t)=>t!==i))},children:"Delete"})]},i))]}),(0,a.jsx)("button",{className:"next-btn",type:"submit",onClick:()=>{(console.log("Children data:",u),u.every(e=>Object.values(e).every(e=>""!==e)))?t(8):b().fire({icon:"error",text:"Fill all the fields"})},children:(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})})]}),8==i&&(0,a.jsx)("div",{className:" flex flex-col items-center ",children:(0,a.jsxs)("div",{className:"flex justify-center ",children:[(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>h?e-1:e-2)},children:"Back"}),(0,a.jsxs)("div",{className:" flex flex-col gap-y-3",children:[(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:" flex flex-col",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",width:"800px"},children:[(0,a.jsx)("input",{style:{cursor:"pointer"},type:"checkbox",id:"parentCheckbox",checked:f,onChange:e=>{w(e.target.checked)}}),(0,a.jsxs)("label",{htmlFor:"parentCheckbox",style:{marginLeft:"8px",fontWeight:"500"},children:[(0,a.jsx)("span",{className:"asterik",children:"*"}),"I certify that I am the parent or legal guardian of the above child and confirm that the information I entered is accurate and true."]})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)("input",{style:{cursor:"pointer"},type:"checkbox",id:"adultCheckbox",checked:k,onChange:e=>{C(e.target.checked)}}),(0,a.jsxs)("label",{htmlFor:"adultCheckbox",style:{marginLeft:"8px",fontWeight:"500"},children:[(0,a.jsx)("span",{className:"asterik",children:"*"}),"I am at least 18 years old and I have read and agree to the terms of the above agreement."]})]})]})]}),(0,a.jsx)("button",{className:"next-btn !h-12 !w-32 !rounded-md !ml-5",children:(0,a.jsx)(N.default,{src:"/right-arrow.svg",alt:"Next",width:30,height:30,priority:!0})})]})}),9==i&&(0,a.jsxs)("div",{className:"field-box",children:[" ",(0,a.jsx)("button",{className:" absolute right-[50px] top-0 mt-2 ml-5 mb-2 bg-white rounded-md py-1 px-7 text-[20px]",onClick:()=>{t(e=>e-1)},children:"Back"}),(0,a.jsx)("div",{onClick:()=>{l&&(l.clear(),c(e=>({...e,signature:null})))},className:"w-[75px] text-center bg-white text-black  py-1 px-2 rounded cursor-pointer",children:"Clear"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"border rounded bg-white border-2 border-black w-[630px]",children:(0,a.jsx)(v(),{ref:e=>o(e),canvasProps:{className:"signature-pad",width:600,height:250,style:{border:"none",backgroundColor:"white",borderRadius:"0.5rem"}},penColor:"#337ab7",onEnd:()=>{if(l){let e=l.getTrimmedCanvas().toDataURL("image/png");c(i=>({...i,signature:e}))}},velocityFilterWeight:100,minWidth:1,maxWidth:2.5,dotSize:1.5})})}),(0,a.jsx)("div",{onClick:S,className:"w-[100px] py-1 px-3 flex justify-center items-center text-center bg-[#337ab7] text-white rounded text-[22px] cursor-pointer",children:"Submit"})]})]})}}},e=>{var i=i=>e(e.s=i);e.O(0,[461,595,50,130,215,744],()=>i(4675)),_N_E=e.O()}]);